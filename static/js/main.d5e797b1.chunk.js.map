{"version":3,"sources":["components/ProtectedRoute.js","components/SignIn.js","ConfigFirebase.js","utils/FirebaseAPI.js","screens/MapScreen.js","screens/AdminScreen.js","screens/LoginScreen.js","App.js","reportWebVitals.js","components/PrimarySearchAppBar.js","components/MenuNombreRutas.js","components/MenuProfile.js","components/MenuSearch.js","components/ModalProfile.js","assets/icons/bus.png","assets/icons/busStop.png","components/Icons.js","components/BusStops.js","components/Buses.js","index.js"],"names":["React","Component","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","props","classes","useState","email","password","user","setUser","handleParamChange","e","target","name","value","prev","Container","component","maxWidth","CssBaseline","className","method","Avatar","noValidate","onSubmit","event","preventDefault","handleLogIn","TextField","required","fullWidth","id","label","autoComplete","autoFocus","onChange","error","invalidEmail","helperText","type","invalidPassword","Button","Box","mt","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","fetchRoutes","a","routes","collection","get","then","querySnapshot","forEach","doc","data","push","catch","alert","sort","b","toString","toLowerCase","fetchBuses","choferes","coords","names","chofer","Posicion","latitude","longitude","Nombre","userSignIn","setInvalidEmail","setInvalidPassword","setIsAuthenticated","setData","auth","setPersistence","Auth","Persistence","LOCAL","admin","where","size","docs","signInWithEmailAndPassword","code","userSignOut","signOut","getUserState","onAuthStateChanged","limeOptions","RouteNameStyle","position","left","top","transform","zIndex","MapScreen","setRoutes","routeName","setRouteName","regionCoords","setRegionCoords","routeLine","setRouteLine","stopsCoords","setStopsCoords","stopsNames","setStopsNames","setChoferes","RegionChangeEvent","map","useMap","flyTo","getZoom","useEffect","style","padding","PrimarySearchAppBar","handleRouteSelected","idx","route","region","polyline","userData","handleSignOut","disableRipple","disableFocusRipple","startIcon","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","BusStops","Buses","Polyline","pathOptions","positions","AdminScreen","userFirebase","LoginScreen","isAuthenticated","onLoad","setOnLoad","createBrowserHistory","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","grow","flexGrow","menuButton","marginRight","title","breakpoints","up","search","borderRadius","shape","fade","common","white","marginLeft","searchIcon","height","pointerEvents","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","anchorElProfile","setAnchorElProfile","anchorElRutas","setAnchorElRutas","AppBar","Toolbar","IconButton","edge","aria-label","onClick","currentTarget","noWrap","MenuSearch","root","input","inputProps","aria-haspopup","MenuProfile","anchorEl","handleMenuClose","MenuNombreRutas","isMenuOpen","Boolean","renderMenu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","item","MenuItem","bind","this","setOpen","handleModalOpen","ModalProfile","handleOpen","handleClose","index","setIndex","i","length","Autocomplete","freeSolo","options","option","renderInput","params","ref","InputProps","InputBase","placeholder","reason","getModalStyle","background","border","boxShadow","shadows","modalStyle","body","defaultValue","readOnly","Email","Modal","aria-labelledby","aria-describedby","iconBus","L","Icon","iconUrl","bus","iconRetinaUrl","iconAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","iconStop","busStop","Marker","icon","Popup","timer","setTimer","setCoords","clearInterval","setInterval","getBusesCoords","setNames","buses","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5e797b1.chunk.js","sourcesContent":["import React from \"react\";\nimport { Route, Redirect} from 'react-router-dom';\n\nexport default class ProtectedRoute extends React.Component{\n\n    render(){\n        return(\n            <Route\n                {...this.props}\n                render={function(){\n                        if(true){\n                            return <div><h1> ok </h1></div>;\n                        }\n                        else{\n                            return <h1>not ok</h1>\n                        }\n                    }\n                } \n            />\n        );\n    }\n}","import React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\nexport default function SignIn(props) {\n    const classes = useStyles();\n\n    \n    function handleSumbit(event){\n      event.preventDefault();\n      props.handleLogIn(user);\n    } \n\n    const [user,setUser] = useState({email: \"\", password: \"\"});\n\n    function handleParamChange(e){\n      const { name,value } = e.target;\n      setUser(function(prev){ \n        return {...prev, [name]: value};\n      });\n    }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper} method='post'>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handleSumbit} method='POS'>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            onChange={handleParamChange}\n            error={props.invalidEmail}\n            helperText={props.invalidEmail ? 'Usuario no encontrado': null}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={handleParamChange}\n            error={props.invalidPassword}\n            helperText={props.invalidPassword ? 'Contraseña incorrecta': null}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}","\nimport firebase from 'firebase';\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAO2RnRjdn07kpZZbB-FsdpL5RRkXT25ZA\",\n  authDomain: \"pruebaauth-5713a.firebaseapp.com\",\n  projectId: \"pruebaauth-5713a\",\n  storageBucket: \"pruebaauth-5713a.appspot.com\",\n  messagingSenderId: \"684088561791\",\n  appId: \"1:684088561791:web:ec138bb2cbc58536a4ef4a\",\n  measurementId: \"G-31QNL3F6LB\"\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\n\nexport {\n  firebaseApp,\n  db,\n  firebase\n}","import {db,firebaseApp,firebase} from \"../ConfigFirebase\";\n\nexport async function fetchRoutes(){\n    var routes = [];\n    await db.collection(\"rutas\")\n    .get()\n    .then(function(querySnapshot) {\n        querySnapshot.forEach(function(doc){\n            var data = doc.data();\n            routes.push({...data, id: doc.id});\n        });\n    })\n    .catch(function(error) {\n        alert(\"No se pudo cargar los datos\");\n    });\n    routes.sort(function(a,b){\n        if (a['Nombre'].toString().toLowerCase() < b['Nombre'].toString().toLowerCase()) return -1;\n        if (a['Nombre'].toString().toLowerCase() == b['Nombre'].toString().toLowerCase()) return 0;\n        if (a['Nombre'].toString().toLowerCase() > b['Nombre'].toString().toLowerCase()) return 1;\n    });\n    return routes;\n}\n\nexport async function fetchBuses(choferes){\n\n   var coords = [];\n   var names = [];\n   for(var chofer of choferes) {\n       await chofer.get()\n       .then(function(doc){\n           var {latitude, longitude} = doc.data().Posicion;\n           var { Nombre } = doc.data();\n           coords.push([latitude, longitude]);\n           names.push(Nombre);\n       })\n       .catch(function(error) {\n               alert(\"Carga erronea de datos de autobuses.\");\n       })\n   }\n   return {coords: coords, names: names};\n}\n\n\nexport async function userSignIn(user, setUser, setInvalidEmail, setInvalidPassword, setIsAuthenticated, setData ){\n   \n   await firebaseApp.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n      .then(async function() {\n         setInvalidEmail(false);\n         setInvalidPassword(false);\n\n         var admin = true;\n         var {email} = user;\n         await db.collection(\"admins\")\n            .where('Email', '==', email)\n            .get()\n            .then(function(querySnapshot){\n               if(!querySnapshot.size){\n                  setInvalidEmail(true);\n                  admin = false;\n               }\n               else{\n                  setData(querySnapshot.docs[0].data());\n               }\n            })\n            .catch(error => alert('No es posible cargas los usuarios de la base de datos.'));   \n         \n         if(!admin) return;\n\n         await firebaseApp.auth().signInWithEmailAndPassword(user.email, user.password)\n         .then((user) => {\n            setUser(user);    \n            setIsAuthenticated(true);\n            setInvalidEmail(false);\n            setInvalidPassword(false);\n         })\n         .catch((error) => {   \n            if (error.code == 'auth/invalid-email' || error.code == 'auth/user-not-found')\n               setInvalidEmail(true);\n            else if (error.code == 'auth/wrong-password')\n               setInvalidPassword(true);\n         });  \n      })\n      .catch(function(error) {\n         alert(error.code);\n      });\n\n}\n\nexport async function userSignOut(setUser, setIsAuthenticated){\n   firebaseApp.auth().signOut().then(function() {\n      setUser(null);\n      setIsAuthenticated(false);\n   }).catch(function(error) {\n      alert('No pudimos cerrar tu sesión, comprueba tu conexión a internet.');\n      alert(error);\n   });    \n}\n\nexport async function getUserState(setData,setIsAuthenticated){\n   firebase.auth().onAuthStateChanged(async function(user) {\n      if (user) {\n        var {email} = user;\n        await db.collection(\"admins\")\n           .where('Email', '==', email)\n           .get()\n           .then(function(querySnapshot){\n               setData(querySnapshot.docs[0].data());\n           })\n           .catch(error => alert('No es posible cargas los usuarios de la base de datos.')); \n         setIsAuthenticated(true);\n      }\n      else setIsAuthenticated(false);\n   });\n}","import React, { useEffect, useState } from \"react\";\n\nimport { MapContainer, TileLayer, Polyline, useMap } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport { Button } from '@material-ui/core';\nimport DirectionsIcon from '@material-ui/icons/Directions';\n                                \n// Components\nimport { PrimarySearchAppBar, BusStops, Buses } from '../index';\n\nimport { fetchRoutes } from '../utils/FirebaseAPI';\n\nconst limeOptions = { color: '#01497c'};\n\nconst RouteNameStyle = {\n    position: 'absolute', \n    left: '50%', \n    top: '90%',\n    transform: 'translate(-50%, -50%)',\n    zIndex: 1,\n}\n\n\nexport default function MapScreen(props){    \n   \n    const [routes,setRoutes] = useState([]);\n    const [routeName,setRouteName] = useState('Ruta');\n    const [regionCoords,setRegionCoords] = useState([20.52374172943338, -100.81533087219081]);\n    const [routeLine,setRouteLine] = useState([]);\n    const [stopsCoords,setStopsCoords] = useState([]);\n    const [stopsNames,setStopsNames] = useState([]);\n    const [choferes,setChoferes] = useState([]);\n\n\n    function handleRouteSelected(idx){\n        var route = routes[idx];\n        setRouteName(route['Nombre']);\n\n        var region = route['RegionInicial'];\n        setRegionCoords([region.latitude, region.longitude]);\n        \n        var polyline = [];\n        for(var coords of route['Coordenada']){\n            polyline.push([coords.latitude, coords.longitude]);\n        }\n        setRouteLine(polyline);\n\n        var stopsCoords = [];\n        var stopsNames = [];\n        for(var coords of route['StopsLocation']){\n            stopsCoords.push([coords.latitude, coords.longitude]);\n        } \n        for(var name of route['StopsNombre']){\n            stopsNames.push(name);\n        }\n        setStopsCoords(stopsCoords);\n        setStopsNames(stopsNames);\n\n        setChoferes(route['choferes']);\n    }   \n\n    useEffect(async function(){\n        var routes = await fetchRoutes(); \n        setRoutes(routes);\n    }\n    ,[])\n\n    function RegionChangeEvent() {\n        const map = useMap();\n        map.flyTo(regionCoords, map.getZoom())\n        return null;\n    }\n      \n\n    return (\n        <div>\n            <p style={{padding: '15px'}}/>\n            <PrimarySearchAppBar \n               routes={routes}\n               handleRouteSelected={handleRouteSelected}    \n               user={props.userData}\n               handleSignOut={props.handleSignOut}\n            />\n            <Button \n                color='primary'\n                variant=\"contained\" \n                disableRipple \n                disableFocusRipple\n                style={RouteNameStyle}\n                startIcon={<DirectionsIcon />}\n            >\n                {routeName}\n            </Button>\n            <MapContainer center={regionCoords} zoom={14} scrollWheelZoom={true}>\n                <TileLayer\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                />\n\n                <BusStops coords={stopsCoords} names={stopsNames}/>\n                <Buses choferes={choferes}/>\n                <Polyline pathOptions={limeOptions} positions={routeLine} />\n                \n                {/* Hooks of the map */}   \n                <RegionChangeEvent center={regionCoords}/>\n            </MapContainer>\n        </div>\n        );\n}\n        \n\n\n\n","import React, {useEffect} from \"react\";\nimport MapScreen from \"./MapScreen\";\n\nexport default function AdminScreen(props){   \n   return (\n      <div>\n            <MapScreen \n               userFirebase={props.userFirebase} \n               userData={props.userData}\n               handleSignOut={props.handleSignOut}\n            />\n      </div>\n   );\n}\n\n\n","import React,{ useEffect, useState } from 'react';\nimport SignIn from '../components/SignIn';\nimport AdminScreen from './AdminScreen';\nimport { userSignIn,userSignOut, getUserState } from '../utils/FirebaseAPI';\n\n\nexport default function LoginScreen() {\n\n   const [user,setUser] = useState(null);\n   const [data,setData] = useState(null);\n   const [invalidEmail,setInvalidEmail] = useState(false);\n   const [invalidPassword,setInvalidPassword] = useState(false);\n\n   async function handleLogIn(user){\n      await userSignIn(user,setUser,setInvalidEmail,setInvalidPassword,setIsAuthenticated, setData);\n   }\n\n   async function handleSignOut(){\n      await userSignOut(setUser,setIsAuthenticated);\n   }\n\n   const [isAuthenticated, setIsAuthenticated] = useState(null);\n\n   const [onLoad,setOnLoad] = useState(true);\n\n   useEffect(async function(){\n      await getUserState(setData,setIsAuthenticated);\n      setOnLoad(false);\n   },[]);\n\n   if(!onLoad && isAuthenticated !== null){\n      return (\n         <div>            \n            {!isAuthenticated ? \n               <SignIn \n                  handleLogIn={handleLogIn}\n                  invalidEmail={invalidEmail}\n                  invalidPassword={invalidPassword}\n               /> \n               : \n               <AdminScreen \n                  userFirebase={user} \n                  userData={data}\n                  handleSignOut={handleSignOut}\n               />  \n            }\n         </div>\n      );\n   }\n   else return null;\n}","import './App.css';\nimport React from \"react\";\nimport { createBrowserHistory } from \"history\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport './App.css';\n\nimport ProtectedRoute from './components/ProtectedRoute';\n\n// Sección de screens\nimport LoginScreen from './screens/LoginScreen';\n\nvar hist = createBrowserHistory();\n\nexport default function App(props) {\n  return (\n    <LoginScreen/>\n  );\n}\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React,{useState} from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nimport { MenuNombreRutas, MenuProfile, MenuSearch } from '../index';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PrimarySearchAppBar(props) {\n  const classes = useStyles();\n\n  //================================================================================//\n\n  {/* Componentes para el Menu del nombre de los perfiles de admins */}\n  const [anchorElProfile, setAnchorElProfile] = React.useState(null);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorElProfile(event.currentTarget);\n  };\n\n  const handleMenuProfileClose = () => {\n    setAnchorElProfile(null);\n  };\n\n//=================================================================================//\n\n  {/* Componentes para el Menu del nombre de las Rutas */}\n  const [anchorElRutas, setAnchorElRutas] = React.useState(null);\n\n  const handleMenuRutasOpen = (event) => {\n    setAnchorElRutas(event.currentTarget);\n  };\n  const handleRouteSelected = (idx) => {\n    props.handleRouteSelected(idx);\n  };\n  const handleMenuRutasClose = () => {\n    setAnchorElRutas(null);\n  };\n\n//=================================================================================//\n\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleMenuRutasOpen}\n          >\n            <MenuIcon/>\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            RUTAS\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <MenuSearch \n              routes={props.routes}\n              handleRouteSelected={handleRouteSelected}\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n            />\n          </div>\n          <div className={classes.grow} />\n          <div className={classes.menuButton}>\n          <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <MenuProfile \n        anchorEl={anchorElProfile} \n        handleMenuClose={handleMenuProfileClose}\n        user={props.user}\n        handleSignOut={props.handleSignOut}\n      />\n      <MenuNombreRutas \n        anchorEl={anchorElRutas} \n        handleMenuClose={handleMenuRutasClose}\n        routes={props.routes}\n        handleRouteSelected={handleRouteSelected}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport default function MenuNombreRutas(props) {\n    \n    const isMenuOpen = Boolean(props.anchorEl);\n\n    function handleRouteSelected(idx){\n        props.handleMenuClose();\n        // Index of route\n        props.handleRouteSelected(idx);\n    }\n\n    const menuId = 'primary-search-account-menu';\n    const renderMenu = (\n        <Menu\n            anchorEl={props.anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'left' }}\n            open={isMenuOpen}\n            onClose={props.handleMenuClose}\n        >\n            {props.routes.map(function(item, idx){\n                return (\n                    <MenuItem \n                        key={idx} \n                        onClick={handleRouteSelected.bind(this, idx)}\n                    >\n                        {item['Nombre']}\n                    </MenuItem>\n                );\n            })}\n        </Menu>\n    );\n\n  return (\n    <>\n        {renderMenu}\n    </>\n  );\n}","import React from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport { ModalProfile } from '../index';\n\nexport default function MenuProfile(props) {\n    \n    const isMenuOpen = Boolean(props.anchorEl);\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleModalOpen = () => {\n        setOpen(true);\n    };\n\n    const handleModalClose = () => {\n        setOpen(false);\n    };\n\n    function handelProfile(){\n        props.handleMenuClose();\n        handleModalOpen();\n    }\n\n    const menuId = 'primary-search-account-menu';\n    const renderMenu = (\n        <Menu\n            anchorEl={props.anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMenuOpen}\n            onClose={props.handleMenuClose}\n        >\n            <MenuItem onClick={handelProfile}>Perfil</MenuItem>\n            <MenuItem onClick={props.handleSignOut}>Cerrar Sesion</MenuItem>\n        </Menu>\n    );\n\n  return (\n    <>\n        {renderMenu}\n        <ModalProfile\n            open={open} \n            handleOpen={handleModalOpen}\n            handleClose={handleModalClose}\n            user={props.user}\n        />\n    </>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport InputBase from '@material-ui/core/InputBase';\n\nexport default function MenuSearch(props) {\n\n    const [index,setIndex] = useState({});\n\n    useEffect(function(){\n        var index={};\n        var { routes } = props;\n        for(var i=0; i < routes.length; i++){\n            index[routes[i]['Nombre']] = i;\n        }        \n        setIndex(index);\n    },[props.routes]);\n\n\n    return (\n        <Autocomplete\n            id=\"free-solo-demo\"\n            freeSolo\n            options={props.routes.map((option) => option['Nombre'])}\n            renderInput={function(params){\n                return(\n                    <div ref={params.InputProps.ref}>\n                        <InputBase \n                        placeholder=\"Search…\"\n                        classes={props.classes}\n                        inputProps={props.inputProps} \n                        {...params.inputProps} />\n                    </div>\n                );\n            }}\n            onChange={function(event, value, reason){\n                if(reason == \"select-option\"){\n                    props.handleRouteSelected(index[value]);\n                }\n            }}\n            />\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 350,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function ModalProfile(props) {\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = React.useState(getModalStyle);\n  \n\n  const body = (\n    <div style={modalStyle} className={classes.paper}>\n      <p>\n      <TextField\n        id=\"outlined-read-only-input\"\n        label=\"Nombre\"\n        defaultValue={props.user.Nombre}\n        InputProps={{\n          readOnly: true,\n        }}\n        variant=\"outlined\"\n      />\n      <br/>\n      <br/> \n      <TextField\n        id=\"outlined-read-only-input\"\n        label=\"Email\"\n        defaultValue={props.user.Email}\n        InputProps={{\n          readOnly: true,\n        }}\n        variant=\"outlined\"\n      />\n      </p>\n      <Button \n        type=\"button\"  \n        variant=\"contained\" \n        color='secondary' onClick={props.handleClose}\n      >\n        Cerrar\n      </Button>\n    </div>\n  );\n\n  return (\n    <div>\n      <Modal\n        open={props.open}\n        onClose={props.handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {body}\n      </Modal>\n    </div>\n  );\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAACeElEQVR4Xu2VO2gUQRjHZ++9B5LDQIJiIQoRLNIopAgEcxaCTSCIDyI+yCWgIGJpYQhY2MRCEomgIqggWogiaQKxUBRLxSIqRlMoippG8YHN+ft2ZjaTucu5WgjC/eHHznyP+e9rdpVqqql/pBBWe6zycHPtug0FQdAN/QzXx8EGSqVSndQvMKx6TMF1uAbzbo564Uq0QKlUGpMAC0nyA8zAaWJ7OG6EXFRoVCgURm29YBYTjsJeGMhmszM2buuIyfotkaHSZ3IH7sMcyR9SLPFMJvOZ8QPGB8UwnU6f4fAd7sEtuAwXYNLhHFyEqzBF/zNZC9pcww61qKzS934zxX0wXCwW+0xuMpfLjTu1SRRylT85rl3OsJEuhWE46gcT6IsSjwaGK7251Q2u+JgfTKCP0FnXkOc2ZF6Is3H5om4TP+IHE+gNdNc1RCd5OSR214lZTWN42A8m0DwXUa5ryIIn8vn8N0zPMy3GLTr3ECpuLKFeYbi9xpDFusyetPtrwO1i/hiewxBsJbRB6S/JCqVPTo4y7yDfY/rHzVq7agzRFs9w0MStZiXPc443vdRyR6q8vVW2TNxrN7wdczzwN4av4RG0kyuD7K+43h1jNs24lfEOs1alxpDg7wzfcyUjznzONbKY3mGnboH5oRpDtIbEO9PwFbqcJjmhF/AWdsIp5Rl5vKSmHybMevvrGYpumm0h38Aloum4NNuPclJo/QStf2xIc9necqVvk7y1T5bhqdRJPWN57tHvxt6WJYbmdzLrxCLR2OuctezTRmqTOjn52JDBpkA/3BZbxXwbDMJuG3NUIL4PKiy2zk/6CvQzrATeu9DU/6tfY97a/yoSYuEAAAAASUVORK5CYII=\"","import L from 'leaflet';\nimport bus from \"../assets/icons/bus.png\";\nimport busStop from \"../assets/icons/busStop.png\";\n\nconst iconBus = new L.Icon({\n    iconUrl: bus,\n    iconRetinaUrl: bus,\n    iconAnchor: null,\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null,\n    iconSize: new L.Point(30, 30),\n});\n\nconst iconStop = new L.Icon({\n    iconUrl: busStop,\n    iconRetinaUrl: busStop,\n    iconAnchor: null,\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null,\n    iconSize: new L.Point(30, 30),\n});\n\nexport { iconBus, iconStop };\n","import React from \"react\";\nimport { Marker, Popup } from 'react-leaflet';\n\nimport { iconStop } from '../components/Icons';\nimport 'leaflet/dist/leaflet.css';\n\n\nexport default function BusStops(props){    \n   \n    return (\n        <>\n            {props.coords.map(function(coords, idx){\n                    return(\n                        <Marker\n                            key={idx} \n                            position={coords}\n                            icon={ iconStop }>\n                            <Popup>\n                                {props.names[idx]}\n                            </Popup>\n                        </Marker>   \n                    );\n                }\n            )}\n        </>\n        );\n}\n        \n\n\n\n","import React, { useState, useEffect } from \"react\";\nimport { Marker, Popup } from 'react-leaflet';\n\nimport { iconBus } from '../components/Icons';\nimport 'leaflet/dist/leaflet.css';\n\nimport { fetchBuses } from '../utils/FirebaseAPI';\n\n\nconst SECONDS = 1000;\n\nexport default function Buses(props){    \n    \n    const [timer,setTimer] = useState(null);\n\n    const [coords,setCoords] = useState([]);\n\n    useEffect(function() {\n\n        setCoords([]);\n        if(props.choferes.length > 0){     \n            if(timer !== null) clearInterval(timer);\n            setTimer(setInterval(function(){\n                getBusesCoords();\n            }, 3*SECONDS));\n        }\n    },[props.choferes]);\n\n    const [names,setNames] = useState('ok');\n\n    async function getBusesCoords(){\n        \n        if(props.choferes.length == 0) return;\n\n        var buses = await fetchBuses(props.choferes);\n        setCoords(prev => buses.coords);\n        setNames(prev => buses.names);\n    };\n\n    return (\n        <>\n            {coords.map(function(item, idx){\n                    return(\n                        <Marker\n                            key={idx}\n                            position={item}\n                            icon={iconBus}\n                        >\n                            <Popup>{names[idx]}</Popup>\n                        </Marker>\n                    );\n                }\n            )}\n        </>\n        );\n}\n        \n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nexport { default as PrimarySearchAppBar } from './components/PrimarySearchAppBar';\nexport { default as MenuNombreRutas } from './components/MenuNombreRutas';\nexport { default as MenuProfile } from './components/MenuProfile';\nexport { default as MenuSearch } from './components/MenuSearch';\nexport { default as ModalProfile } from './components/ModalProfile';\nexport { default as BusStops } from './components/BusStops';\nexport { default as Buses } from './components/Buses';\n"],"sourceRoot":""}